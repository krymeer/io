<!DOCTYPE html>
<html>
  <head>
    <title>Problemy z CSS Grid Layout</title>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
  </head>
  <body>
    <div id="main_container">
      <header>
        <h1>
          <div id="subtitle">Problemy z</div>
          <div id="title">CSS Grid Layout</div>
        </h1>
      </header>
      <div id="main_content">
        <p id="prologue">Lista kłopotów, jakie napotkałem przy implementacji rozwiązań korzystających z modułu CSS Grid Layout.<br>Ostatnia aktualizacja: <b>2 października 2017</b></p>
        <ol>
          <li class="grid_problem">
            <div class="list_item_title">Przejście przez W3C CSS Validator</div>
            <div class="list_item_contents">
              Niektóre reguły i wartości CSS Grid Layout, mimo że są wymienione zarówno w <a href="https://www.w3.org/TR/2017/CR-css-grid-1-20170509/" target="blank">dokumentacji W3C</a>, jak i w <a href="https://css-tricks.com/snippets/css/complete-guide-grid/" target="blank">jednym z lepszych poradników do CSS Grid Layout</a>, są uznawane przez <a href="https://jigsaw.w3.org/css-validator/" target="blank">walidator W3C</a> za nieprawidłowe. Są to między innymi:
              <code>align-self</code>,
              <code>align-items</code>,
              <code>justify-self</code>,
              <code>justify-items</code>,
              <code>justify-items</code>,
              <code>space-evenly</code>
              i inne.
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Marginesy a rozmiar grida</div>
            <div class="list_item_contents">Rozważmy następującą sytuację:
              <div class="grid" style="grid-auto-flow: column; width: 300px; height: 100px; grid-column-gap: 3px; margin: .25rem 0">
                <div></div>
                <div></div>
                <div></div>
              </div>
              Mimo że dla powyższego elementu reguła <code>box-sizing</code> ma wartość <code>border-box</code>, marginesy między kwadratami nie są wliczane do zdefiniowanej szerokości grida.
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Podział grida kontra jego maksymalne wymiary</div>
            <div class="list_item_contents">
              Grid, którego wymiary są wyrażone w procentach, musi mieć wyraźnie wyznaczone szerokości i wysokości elementów ‒ w&nbsp;przeciwnym razie dojdzie do <a href="https://www.w3schools.com/cssref/pr_pos_overflow.asp" target="blank">przepełnienia</a>. Nie pomoże wtedy <code>overflow: hidden</code>! Przykład znajduje się <a href="overflow.html" target="blank">tutaj</a>.
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Domyślne ułożenie elementów</div>
            <div class="list_item_contents">Standardowo kafle grida następują po sobie w jednej kolumnie, czyli tak jak przy... <code>display: block</code>.
              <div class="grid">
                <div style="height: 25px; width: 25px"></div>
                <div style="height: 25px; width: 25px"></div>
                <div style="height: 25px; width: 25px"></div>
                <div style="height: 25px; width: 25px"></div>
              </div>
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Wypełnienie grida</div>
            <div class="list_item_contents">
              <div class="grid" style="display: inline-grid; width: 300px; height: 100px; border: 2px dashed #990100; align-items: stretch; margin: .25rem 0 .75rem 0; color: #fff; text-align: center">
                <div style="width: auto; height: auto; line-height: 96px">width: auto; height: auto</div>
              </div><div class="grid" style="display: inline-grid; width: 300px; height: 100px; border: 2px dashed #990100; align-items: stretch; margin: .25rem 0 .75rem .5rem; color: #fff; text-align: center; overflow: hidden">
                <div style="line-height: 96px">width: 100px;</div>
              </div>
              <p>Aby element grida wypełnił całego swojego rodzica, musi mieć niezdefiniowane (tzn. automatyczne) wymiary.</p>
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Kilka gridów w jednej linii</div>
            <div class="list_item_contents">Nawet pozornie nieistotny szczegół, jak np. różna wartość <code>line-height</code>, może spowodować, że powyższe gridy przestaną wyświetlać się w jednej linii.
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Elementy grida</div>
            <div class="list_item_contents">Są nimi tylko bezpośredni potomkowie bloku będącego gridem. Weźmy na przykład sytuację, w której nieuporządkowana lista to <code>grid-item</code>:
              <div class="grid" style="height: 100px; grid-template-rows: 1fr 1fr; grid-template-columns: 1fr 1fr 1fr">
                <ul>
                  <li>Item 1</li>
                  <li>Item 2</li>
                  <li>Item 3</li>
                  <li>Item 4</li>
                  <li>Item 5</li>
                </ul>
              </div>
              Elementy listy nie są elementami grida, mimo że znacznik <code>&lt;ul&gt;</code> sam w sobie jest "bezużytecznym" znacznikiem. Nie jest możliwa choćby sytuacja, w której elementy grida będą tworzyły "wspólne" linie; reguła <code>display: subgrid</code> nie została bowiem jeszcze zaimplementowana (<a href="https://rachelandrew.co.uk/archives/2017/07/20/why-display-contents-is-not-css-grid-layout-subgrid/" target="blank">#1</a>, <a href="https://www.w3.org/TR/2017/CR-css-grid-1-20170509/" target="blank">#2</a>)
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Kolejność wizualna kontra faktyczna</div>
            <div class="list_item_contents">
              <div class="grid" id="grid_order" style="margin: .5rem 0">
                <div style="grid-row: 2; grid-column: 2;"><a href="javascript:void(0)">One</a></div>
                <div><a href="javascript:void(0)">Two</a></div>
                <div><a href="javascript:void(0)">Three</a></div>
                <div><a href="javascript:void(0)">Four</a></div>
                <div><a href="javascript:void(0)">Five</a></div>
              </div>
              <p>
                Kolejność przejścia po hiperłączach przy użyciu klawisza <code>Tab</code> jest taka, jaka faktyczna jest kolejność elementów grida w HTML-u. W powyższym przykładzie będziemy mieli zatem
                <code>One</code>, 
                <code>Two</code>, 
                <code>Three</code>, 
                <code>Four</code> i
                <code>Five</code>.
              </p>
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Zgodność</div>
            <div class="list_item_contents">
              <b>Nowoczesne</b> przeglądarki, takie jak Chrome, Opera czy Firefox, poprawnie wyświetlają gridy (przynajmniej te podstawowe!). Internet Explorer, którego udało uruchomić się w wersji 8, do tej grupy nie należy. Ze względów technologicznych nie miałem okazji sprawdzić Edge'a i Safari.
            </div>
          </li>
          <li class="grid_problem">
            <div class="list_item_title">Ignorowane atrybuty</div>
            <div class="list_item_contents">
              <div style="margin: .5rem 0; color: #fff">
                <div style="display: inline-block; box-sizing: border-box; width: 100px; height: 150px; border: 2px dashed #990100">
                  <div style="display: grid; width: 100%; height: 100%;">
                    <span style="background: #333">This is a grid.</span>
                  </div>
                </div><div style="margin-left: 1rem; display: inline-block; box-sizing: border-box; width: 100px; height: 150px; border: 2px dashed #990100; vertical-align: top">
                  <div style="width: 100%; height: 100%;">
                    <span style="background: #333">This is not a grid.</span>
                  </div>
                </div>
              </div>
              <p>Obydwa bloki zawierają <code>span</code>, ale tylko nie-grid wyświetla go tak, jak powinien (w sensie <code>inline</code>). Gridy nie obsługują ponoć też takich atrybutów jak <code>column</code>, <code>float</code> czy <code>vertical-align</code>.</p>
            </div>
          </li>
        </ol>
      </div>
      <footer>

      </footer>
    </div>
  </body>
</html>